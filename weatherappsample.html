<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Weather</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css"
    />
  </head>

  <body>
    <div class="container">
      <h1>Weather</h1>

      <!-- This form will be where users input data about the movies -->
      <form id="movie-form">
        <label for="movie-input">City: </label>
        <input type="text" id="movie-input" /><br />

        <!-- This button will trigger our AJAX call -->
        <input id="find-city" type="submit" value="Search" />
      </form>

      <!-- We'll be dumping our JSON contents in here -->
      <div id="movie-view">
        <div id="city"></div>
      </div>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script type="text/javascript">
        // This .on("click") function will trigger the AJAX Call
        $("#find-city").on("click", function (event) {
          // event.preventDefault() can be used to prevent an event's default behavior.
          // Here, it prevents the submit button from trying to submit a form when clicked
          event.preventDefault();

          // Here we grab the text from the input box
          var movie = $("#movie-input").val();

          // Here we construct our URL
          var queryURL =
            "https://api.openweathermap.org/data/2.5/weather?q=" +
            movie +
            "&appid=b8d00ab246e7b992f89eedfb2df715ff";

          // Write code between the dashes below to hit the queryURL with $ajax, then take the response data
          // and display it in the div with an id of movie-view

          // ------YOUR CODE GOES IN THESE DASHES. DO NOT MANUALLY EDIT THE HTML ABOVE.

          $.ajax({
            url: queryURL,
            method: "GET",
          }).then(function (response) {
            // Log the queryURL
            console.log(queryURL);

            // Log the resulting object
            console.log(response);
            var tempHigh = (response.main.temp_max - 273.15) * 1.8 + 32;
            var tempLow = (response.main.temp_min - 273.15) * 1.8 + 32;
            console.log(tempHigh);
            console.log(tempLow);
            $("#movie-view").text(JSON.stringify(response));
          });

          // -----------------------------------------------------------------------
        });
      </script>
    </div>
  </body>
</html>
